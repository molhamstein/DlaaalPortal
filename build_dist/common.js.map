{"version":3,"sources":["webpack:///./src/app/main/content/cities/cities.service.ts","webpack:///./src/app/main/content/users/users.service.ts"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport {AuthService} from '../auth/auth.service';\nimport {HttpClient} from '@angular/common/http';\nimport {AppException} from '../shared/app.exception';\nimport {Subject} from 'rxjs/Subject';\nimport {AppSettings} from '../shared/app.settings';\nimport {City} from './city.model';\nimport {HelpersService} from '../shared/helpers.service';\n\n@Injectable()\nexport class CitiesService {\n\n  private items: City[] = [];\n  // onUsersChanged: BehaviorSubject<any> = new BehaviorSubject({});\n  // onSearchTextChanged: Subject<any> = new Subject();\n\n  constructor(private http: HttpClient,\n              private authService: AuthService,\n              private helpers: HelpersService) {\n  }\n\n  listing(pageIndex = 0, pageSize = 30, startedWith: string = ''): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.http.get<City[]>(AppSettings.baseUrl + '/cities?access_token=' + this.authService.getToken())\n        .subscribe(\n          items => {\n            console.log(items);\n            this.items = items;\n            resolve({\n              items: this.items.slice(),\n              totalCount: this.items.length\n            });\n          },\n          error => {\n            console.log(error);\n            this.helpers.showActionSnackbar(null, false, '', {style: 'failed-snackbar'});\n          }\n        );\n    });\n  }\n\n  item(itemId: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      // send get request\n      this.http.get<City>(AppSettings.baseUrl + '/cities/' + itemId)\n        .subscribe(\n          item => {\n            console.log(item);\n            resolve(item);\n          },\n          error => {\n            reject(new AppException('unknown exception'));\n            this.helpers.showActionSnackbar(null, false, '', {style: 'failed-snackbar'});\n          }\n        );\n    });\n  }\n\n  delete(item): Promise<any> {\n    return new Promise((resolve, reject) => {\n      const index = this.items.indexOf(item);\n      this.http.delete<City>(AppSettings.baseUrl + '/cities/' + item.id + '?access_token=' + this.authService.getToken())\n        .subscribe(\n          data => {\n            console.log(data);\n            this.items.splice(index, 1);\n            resolve(true);\n          },\n          error => {\n            reject(new AppException(error));\n            this.helpers.showActionSnackbar(null, false, '', {style: 'failed-snackbar'});\n          }\n        );\n    });\n  }\n\n\n  update(item: City): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.http.patch(AppSettings.baseUrl + '/cities/' + item.id + '?access_token=' + this.authService.getToken(), item)\n        .subscribe(\n          data => {\n            console.log(data);\n            resolve(true);\n          },\n          error => {\n            reject(new AppException(error));\n            this.helpers.showActionSnackbar(null, false, '', {style: 'failed-snackbar'});\n          }\n        );\n    });\n  }\n\n  add(item: City): Promise<any> {\n    console.log(\"item \", item);\n    return new Promise((resolve, reject) => {\n      this.http.post(AppSettings.baseUrl + '/cities/?access_token=' + this.authService.getToken(), item)\n        .subscribe(\n          data => {\n            console.log(data);\n            resolve(true);\n          },\n          error => {\n            reject(new AppException(error));\n            this.helpers.showActionSnackbar(null, false, '', {style: 'failed-snackbar'});\n          }\n        );\n    });\n  }\n\n}\n","import {AppSettings} from './../shared/app.settings';\nimport {AuthService} from './../auth/auth.service';\nimport {HelpersService} from './../shared/helpers.service';\nimport {User} from './user.model';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs/Observable';\nimport {Subject} from 'rxjs/Subject';\nimport {AppException} from '../shared/app.exception';\n\n@Injectable()\nexport class UsersService {\n  private items: User[] = [];\n  // onUsersChanged: BehaviorSubject<any> = new BehaviorSubject({});\n  // onSearchTextChanged: Subject<any> = new Subject();\n\n  constructor(private http: HttpClient,\n              private authService: AuthService,\n              private helpers: HelpersService) {\n  }\n\n  listing(pageIndex = 0, pageSize = 30, startedWith: string = ''): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.http.get<User[]>(AppSettings.baseUrl + '/users?access_token=' + this.authService.getToken())\n        .subscribe(\n          items => {\n            console.log('items ', items);\n            this.items = items;\n            resolve({\n              items: this.items.slice(),\n              totalCount: this.items.length\n            });\n          },\n          error => {\n            console.log(error);\n            this.helpers.showActionSnackbar(null, false, '', {style: 'failed-snackbar'});\n          }\n        );\n    });\n  }\n\n  item(itemId: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      // send get request\n      this.http.get<User>(AppSettings.baseUrl + '/users/' + itemId)\n        .subscribe(\n          item => {\n            resolve(item);\n          },\n          error => {\n            this.helpers.showActionSnackbar(null, false, '', {style: 'failed-snackbar'});\n            reject(new AppException('unknown exception'));\n          }\n        );\n    });\n  }\n\n  delete(item): Promise<any> {\n    return new Promise((resolve, reject) => {\n      const index = this.items.indexOf(item);\n      this.http.put<User>(AppSettings.baseUrl + '/users/' + item.id + '/deactivate?access_token=' + this.authService.getToken(), null)\n        .subscribe(\n          data => {\n            this.items[index].status = 'deactivated';\n            resolve(true);\n          },\n          error => {\n            this.helpers.showActionSnackbar(null, false, '', {style: 'failed-snackbar'});\n            reject(new AppException(error));\n          }\n        );\n    });\n  }\n\n\n  update(item: User): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.http.patch(AppSettings.baseUrl + '/users/' + item.id + '?access_token=' + this.authService.getToken(), item)\n        .subscribe(\n          data => {\n            resolve(true);\n          },\n          error => {\n            this.helpers.showActionSnackbar(null, false, '', {style: 'failed-snackbar'});\n            reject(new AppException(error));\n          }\n        );\n    });\n  }\n\n  add(item: User): Promise<any> {\n    return new Promise((resolve, reject) => {\n      this.http.post(AppSettings.baseUrl + '/users/?access_token=' + this.authService.getToken(), item)\n        .subscribe(\n          data => {\n            console.log(data);\n            resolve(true);\n          },\n          error => {\n            this.helpers.showActionSnackbar(null, false, '', {style: 'failed-snackbar'});\n            reject(new AppException(error));\n          }\n        );\n    });\n  }\n\n}\n"],"sourceRoot":""}